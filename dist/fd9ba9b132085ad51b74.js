import"./style.css";import*as THREE from"three";import{OrbitControls}from"three/examples/jsm/controls/OrbitControls.js";import*as dat from"dat.gui";import{Mesh,TextureLoader}from"three";import{GLTFLoader}from"three/examples/jsm/loaders/GLTFLoader.js";import{FontLoader}from"three/src/loaders/FontLoader.js";import{AnimationMixer}from"three/src/animation/AnimationMixer.js";import{FBXLoader}from"three/examples/jsm/loaders/FBXLoader.js";import gsap from"gsap";import{DRACOLoader}from"three/examples/jsm/loaders/DRACOLoader.js";document.getElementById("loading").classList.add("active"),document.querySelector("canvas").classList.add("inactive"),jQuery(window).load((function(){document.getElementById("loading").classList.add("inactive"),document.getElementById("loading").classList.remove("active"),document.getElementById("loading").style.visibility="hidden",document.getElementById("loading").style.display="none",document.querySelector("canvas").classList.remove("inactive"),document.querySelector("canvas").classList.add("active"),document.querySelector("canvas").style.visibility="visible",setTimeout((function(){console.log("page is loaded and 1 minute has passed")}),6e4)}));const burger=document.getElementById("hamburger"),nav=document.getElementById("sidebar-wrapper"),nav1=document.getElementById("nftpass"),nav2=document.getElementById("benefits"),nav3=document.getElementById("community"),nav4=document.getElementById("partnership"),nav5=document.getElementById("roadmap"),nav6=document.getElementById("proceeds"),nav7=document.getElementById("fashionshow"),nav8=document.getElementById("faq"),nav9=document.getElementById("about"),overlay=document.getElementById("overlay-menu"),wrapper=document.getElementById("wrapper"),content=document.getElementById("content");let isClosed=!1,isClicked=!1,checkPopup=!1;const closeButton=document.getElementById("close-popup");closeButton.addEventListener("click",(function(e){$("body").on("pointerdown",menuClick),checkPopup=!1,window.addEventListener("wheel",scroll),window.addEventListener("touchmove",scrollMobile),1==isClosed?(document.getElementById("popup").classList.remove("active"),document.getElementById("popup").classList.add("inactive"),isClosed=!1):(document.getElementById("popup").classList.add("active"),isClosed=!0)})),burger.addEventListener("click",(()=>{checkPopup=!0,window.removeEventListener("wheel",scroll,!1),window.removeEventListener("touchmove",scrollMobile,!1),1==isClosed?(document.getElementById("popup").classList.remove("active"),isClosed=!1):(document.getElementById("popup-navbar"),console.log("popup is opened!"),document.getElementById("iframe").style.display="none",document.getElementById("popup").classList.add("active"),isClosed=!0)})),nav.addEventListener("click",(()=>{1==isClicked?(console.log("nav is click"),document.getElementById("popup").classList.add("active"),isClicked=!1):(document.getElementById("popup").classList.remove("active"),isClicked=!0)})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})}))}));const faq1=document.getElementById("faq-query-1"),faq2=document.getElementById("faq-query-2"),faq3=document.getElementById("faq-query-3"),faq4=document.getElementById("faq-query-4"),faq5=document.getElementById("faq-query-5"),answer=document.getElementById("faq-answer");faq1.addEventListener("click",(function(e){faq1.style.background="grey",faq2.style.background="none",faq3.style.background="none",faq4.style.background="none",faq5.style.background="none",answer.innerHTML="The NFT Pass grants you access to HelloKOL Club VIP with tons of exclusive benefits. It also empowers members to collectively participate in, build, and envision the future of fashion in crypto and metaverse world as a pioneer"})),faq2.addEventListener("click",(function(e){faq1.style.background="none",faq2.style.background="grey",faq3.style.background="none",faq4.style.background="none",faq5.style.background="none",answer.innerHTML="The official launch is on April 30th, 2022. The public sale is on May 12th, 2022."})),faq3.addEventListener("click",(function(e){faq1.style.background="none",faq2.style.background="none",faq3.style.background="grey",faq4.style.background="none",faq5.style.background="none",answer.innerHTML="Presale price is 0.04 ETH plus gas. Public sale price is 0.07 ETH plus gas."})),faq4.addEventListener("click",(function(e){faq1.style.background="none",faq2.style.background="none",faq3.style.background="none",faq4.style.background="grey",faq5.style.background="none",answer.innerHTML="You can mint a maximum of 5 HelloKOL NFT Pass. The number of NFT Pass that you hold determines the benefits that you get!"})),faq5.addEventListener("click",(function(e){faq1.style.background="none",faq2.style.background="none",faq3.style.background="none",faq4.style.background="none",faq5.style.background="grey",answer.innerHTML="Yes! There are 5 ways to get whitelists: IG Giveaway, IG Mini Game, Discord Level Up Contest, Discord Invite Contest, Other KOL/ Media Giveaways"}));const proceed1=document.getElementById("proceed-query-1"),proceed2=document.getElementById("proceed-query-2"),proceed3=document.getElementById("proceed-query-3"),proceed4=document.getElementById("proceed-query-4"),proceed5=document.getElementById("proceed-query-5"),proceed_answer=document.getElementById("proceed-answer");let camera,scene,renderer,mixer,load;proceed1.addEventListener("click",(function(e){console.log("proceed clicked"),proceed1.style.background="grey",proceed2.style.background="none",proceed3.style.background="none",proceed4.style.background="none",proceed5.style.background="none",proceed_answer.innerHTML="Incubate emerging fashion talents and promoting digital fashion projects."})),proceed2.addEventListener("click",(function(e){proceed1.style.background="none",proceed2.style.background="grey",proceed3.style.background="none",proceed4.style.background="none",proceed5.style.background="none",proceed_answer.innerHTML="Supporting hairstyling project."})),proceed3.addEventListener("click",(function(e){proceed1.style.background="none",proceed2.style.background="none",proceed3.style.background="grey",proceed4.style.background="none",proceed5.style.background="none",proceed_answer.innerHTML="Purchasing land in Decentraland or Sandbox for fashion events and shows."})),proceed4.addEventListener("click",(function(e){proceed1.style.background="none",proceed2.style.background="none",proceed3.style.background="none",proceed4.style.background="grey",proceed5.style.background="none",proceed_answer.innerHTML="Extend collaboration with gaming partners"})),proceed5.addEventListener("click",(function(e){proceed1.style.background="none",proceed2.style.background="none",proceed3.style.background="none",proceed4.style.background="none",proceed5.style.background="grey",proceed_answer.innerHTML="Supporting projects developed and led by women and girls in tech."}));let objs=[];const canvas=document.querySelector("canvas.canvasGL");let sizes={width:window.innerWidth,height:window.innerHeight};function init(){scene=new THREE.Scene;const e=new THREE.TextureLoader;camera=new THREE.PerspectiveCamera(100,sizes.width/sizes.height,1,1e4),camera.position.x=0,camera.position.y=0,camera.position.z=5.5,scene.add(camera);const t=new THREE.HemisphereLight(16777215,4473924);t.position.set(0,300,0),scene.add(t);const n=new THREE.DirectionalLight(16777215);n.position.set(75,300,-75),scene.add(n);const o=new THREE.PlaneBufferGeometry(1.5,1);for(let t=1;t<=4;t++){const n=new THREE.MeshBasicMaterial({map:e.load(`../photo/${t}.jpg`)}),s=new THREE.Mesh(o,n);s.position.x+=.4*t+1,s.position.z+=t,s.rotation.y=0,scene.add(s)}for(let t=5;t<=8;t++){const n=new THREE.MeshBasicMaterial({map:e.load(`photo/${t}.jpg`)}),s=new THREE.Mesh(o,n);s.position.x-=.4*t,s.position.z+=t-5,s.rotation.y=0,scene.add(s)}scene.traverse((e=>{e.isMesh&&(objs.push(e),console.log(objs))}));const s=new THREE.PlaneGeometry(3,12),i=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide}),c=new THREE.Mesh(s,i);c.position.z=1.1,c.position.y=-1.5,c.rotation.x=Math.PI/1.8,scene.add(c);const d=new THREE.PlaneGeometry(50,12),l=new THREE.MeshBasicMaterial({color:0,side:THREE.DoubleSide}),r=new THREE.Mesh(d,l);r.position.z=1,r.position.y=-1.5,r.rotation.x=Math.PI/1.8,scene.add(r);const a=new THREE.MeshBasicMaterial({});a.color=new THREE.Color(16711935),a.transparency=!0,renderer=new THREE.WebGLRenderer({canvas,alpha:!0}),renderer.setSize(sizes.width,sizes.height),document.body.appendChild(renderer.domElement),window.addEventListener("resize",onWindowResize),render()}function character(){let e;(new GLTFLoader).load("3d/catwalk.gltf",(function(t){e=t.scene,e.position.z-=1,e.position.x-=1,e.position.y=-1,e.scale.set(.5,.5,.5),mixer=new THREE.AnimationMixer(e),console.log(e);const n=mixer.clipAction(t.animations[0]);n.setLoop(THREE.LoopRepeat),n.clampWhenFinished=!0,n.enable=!0,n.play(),console.log("ACTION",n),console.log("3d loaded"),scene.add(e)}),(function(e){console.log(e.loaded/e.total*100+"% 3D model loaded"),e.loaded/e.total==1&&console.log("trigger loaded",document.getElementById("loading").style)}),(function(e){alert("error"),console.log("An error happened????")}))}function onWindowResize(){window.addEventListener("resize",(()=>{sizes.width=window.innerWidth,sizes.height=window.innerHeight,camera.aspect=sizes.width/sizes.height,camera.updateProjectionMatrix(),renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))})),render()}function render(){renderer.render(scene,camera)}init(),character(),onWindowResize(),document.addEventListener("wheel",onMouseWheel);let mouseX=0,mouseY=0,targetX=0,targetY=0,windowX=window.innerWidth/4,windowY=window.innerHeight/4;function onMouseWheel(e){mouseY=.01*e.deltaY}const mouse=new THREE.Vector2;function onMouseMove(e){mouse.x=e.clientX/sizes.width*2-1,mouse.y=e.clientY/sizes.height*2-1}document.addEventListener("mousemove",onMouseMove);const clock=new THREE.Clock;let posZ=0;const raycaster=new THREE.Raycaster;$("body").on("pointerdown",menuClick);let clicked=!1;function menuClick(e){clicked=!0;let t=raycaster.intersectObjects(objs);for(const e of t){gsap.to(e.object.scale,{x:1.7,y:1.7});for(const t of objs)e.object==objs[0]?showMenu(4):e.object==objs[1]?showMenu(3):e.object==objs[2]?showMenu(2):e.object==objs[3]?showMenu(1):e.object==objs[4]?showMenu(8):e.object==objs[5]?showMenu(7):e.object==objs[6]?showMenu(6):e.object==objs[7]&&showMenu(5)}}raycaster.setFromCamera(mouse,camera);let menuClicked=!1;document.getElementById("decor1").addEventListener("click",(function(e){1==menuClicked?(hoverMenu1.style.height="100%",console.log("hover menu click"),menuClicked=!1):(hoverMenu1.style.height="5%",menuClicked=!0)})),document.getElementById("decor2").addEventListener("click",(function(e){1==menuClicked?(hoverMenu2.style.height="100%",menuClicked=!1):(hoverMenu2.style.height="5%",menuClicked=!0)})),document.getElementById("decor3").addEventListener("click",(function(e){1==menuClicked?(hoverMenu3.style.height="100%",menuClicked=!1):(hoverMenu3.style.height="5%",menuClicked=!0)})),document.getElementById("decor4").addEventListener("click",(function(e){1==menuClicked?(hoverMenu4.style.height="100%",menuClicked=!1):(hoverMenu4.style.height="5%",menuClicked=!0)})),document.getElementById("decor5").addEventListener("click",(function(e){1==menuClicked?(hoverMenu5.style.height="100%",menuClicked=!1):(hoverMenu5.style.height="5%",menuClicked=!0)})),document.getElementById("decor6").addEventListener("click",(function(e){1==menuClicked?(hoverMenu6.style.height="100%",menuClicked=!1):(hoverMenu6.style.height="5%",menuClicked=!0)})),document.getElementById("decor7").addEventListener("click",(function(e){1==menuClicked?(hoverMenu7.style.height="100%",menuClicked=!1):(hoverMenu7.style.height="5%",menuClicked=!0)})),document.getElementById("decor8").addEventListener("click",(function(e){1==menuClicked?(hoverMenu8.style.height="100%",menuClicked=!1):(hoverMenu8.style.height="5%",menuClicked=!0)})),document.getElementById("decor9").addEventListener("click",(function(e){1==menuClicked?(hoverMenu9.style.height="100%",menuClicked=!1):(hoverMenu9.style.height="5%",menuClicked=!0)})),document.getElementById("decor10").addEventListener("click",(function(e){1==menuClicked?(hoverMenu10.style.height="100%",menuClicked=!1):(hoverMenu10.style.height="5%",menuClicked=!0)}));var menu1=document.getElementById("hoverMenu1"),menu2=document.getElementById("hoverMenu2"),menu3=document.getElementById("hoverMenu3"),menu4=document.getElementById("hoverMenu4"),menu5=document.getElementById("hoverMenu5"),menu6=document.getElementById("hoverMenu6"),menu7=document.getElementById("hoverMenu7"),menu8=document.getElementById("hoverMenu8"),menu9=document.getElementById("hoverMenu9"),menu10=document.getElementById("hoverMenu10");function showMenu(e){$("body").off("pointerdown"),document.getElementById("loading").style.visibility="hidden",document.getElementById("popup").classList.add("active"),1==e?(menu1.style.height="100%",menu2.style.height="5%",menu3.style.height="5%",menu4.style.height="5%",menu5.style.height="5%",menu6.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu9.style.height="5%",menu10.style.height="5%"):2==e?(menu2.style.height="100%",menu1.style.height="5%",menu3.style.height="5%",menu4.style.height="5%",menu5.style.height="5%",menu6.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu9.style.height="5%",menu10.style.height="5%",document.getElementById("benefits").scrollIntoView()):3==e?(menu3.style.height="100%",menu2.style.height="5%",menu1.style.height="5%",menu4.style.height="5%",menu5.style.height="5%",menu6.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu9.style.height="5%",menu10.style.height="5%",document.getElementById("partnership").scrollIntoView()):4==e?(menu4.style.height="100%",menu2.style.height="5%",menu3.style.height="5%",menu1.style.height="5%",menu5.style.height="5%",menu6.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu9.style.height="5%",menu10.style.height="5%"):5==e?(menu5.style.height="100%",menu2.style.height="5%",menu3.style.height="5%",menu4.style.height="5%",menu1.style.height="5%",menu6.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu9.style.height="5%",menu10.style.height="5%"):6==e?(menu6.style.height="100%",menu2.style.height="5%",menu3.style.height="5%",menu4.style.height="5%",menu5.style.height="5%",menu1.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu9.style.height="5%",menu10.style.height="5%"):7==e?(menu7.style.height="100%",menu2.style.height="5%",menu3.style.height="5%",menu4.style.height="5%",menu5.style.height="5%",menu1.style.height="5%",menu6.style.height="5%",menu8.style.height="5%",menu9.style.height="5%",menu10.style.height="5%"):8==e?(menu8.style.height="100%",menu2.style.height="5%",menu3.style.height="5%",menu4.style.height="5%",menu5.style.height="5%",menu6.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu9.style.height="5%",menu10.style.height="5%"):9==e?(menu9.style.height="100%",menu2.style.height="5%",menu3.style.height="5%",menu4.style.height="5%",menu5.style.height="5%",menu6.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu1.style.height="5%",menu10.style.height="5%"):10==e&&(menu10.style.height="100%",menu2.style.height="5%",menu3.style.height="5%",menu4.style.height="5%",menu5.style.height="5%",menu6.style.height="5%",menu7.style.height="5%",menu8.style.height="5%",menu1.style.height="5%",menu9.style.height="5%")}function tick(){const e=clock.getDelta();clock.getElapsedTime();let t=0;raycaster.setFromCamera(mouse,camera);const n=raycaster.intersectObjects(objs);for(const e of n){gsap.to(e.object.scale,{x:1.7,y:1.7});for(const n of objs)e.object==objs[0]||e.object==objs[1]||e.object==objs[2]||e.object==objs[3]?gsap.to(e.object.rotation,{y:-.5}):(e.object==objs[4]||e.object==objs[5]||e.object==objs[6]||e.object==objs[7])&&(t+=.02,gsap.to(e.object.rotation,{y:.5}))}for(const e of objs)n.find((t=>t.object===e))||(gsap.to(e.scale,{x:1,y:1}),gsap.to(e.rotation,{y:0}));mixer&&mixer.update(e),renderer.render(scene,camera),window.requestAnimationFrame(tick)}function moveMenu(e){camera.position.x+=e}tick();let lastY,currY,speedMouse=0,speedMobile=0;function scroll(e){speedMouse+=.02*e.deltaY}function scrollMobile(e){currY=e.changedTouches[0].clientY,lastY<currY?speedMobile-=.1*(currY-lastY):lastY>currY&&(speedMobile+=.02*(lastY-currY))}function scrolling(){speedMouse*=.08,speedMobile*=.04,camera.position.z>=9?(camera.position.z=9,console.log("reach limit out"),camera.position.z-=speedMouse,camera.position.z-=speedMobile):camera.position.z<=.8?(console.log("reach limit in"),camera.position.z=.8,camera.position.z+=speedMouse,camera.position.z+=speedMobile):(camera.position.z-=speedMouse,camera.position.z+=speedMobile),console.log("check popup",checkPopup),camera.position.z<1?(document.getElementById("iframe").style.display="block",document.querySelector("canvas.canvasGL").style.display="none"):camera.position.z>=1&&(document.getElementById("iframe").style.display="none",document.querySelector("canvas.canvasGL").style.display="block"),window.requestAnimationFrame(scrolling)}function gui(){const e=new dat.GUI;let t=e.addFolder("Camera");t.add(camera.position,"x",0,10).listen(),t.add(camera.position,"y",0,10).listen(),t.add(camera.position,"z",0,10).listen(),console.log("Camera folder is added"),t.open(),e.addFolder("Anim")}function allItemsLoaded(){$(".onepix-imgloader").fadeOut(),$(".loading-container > *:not(.onepix-imgloader)").fadeTo(8e3,100)}window.addEventListener("wheel",scroll),window.addEventListener("touchstart",(e=>{lastY=e.touches[0].clientY})),window.addEventListener("touchmove",scrollMobile),scrolling();const iframe=document.getElementById("iframe");